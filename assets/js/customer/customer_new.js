    $(document).ready(function() {        var maxField = 10;        //Input fields increment limitation        var addButton = $('.add_button');        //Add button selector        var wrapper = $('.field_wrapper');        //New input field html        var x = 1;        var count = 1;        //Initial field counter is 1        //Once add button is clicked        $(addButton).click(function() {            //Check maximum number of input fields            var flag_label = 'N';            $(".coustem_label").each(function() {                var lbl = $(this).val();                if (lbl == '') {                    flag_label = 'Y';                }            });            var flag_value = 'N';            $(".coustem_field").each(function() {                var val_cu = $(this).val();                if (val_cu == '') {                    flag_value = 'Y';                }            });            if (flag_value == 'Y' || flag_label == 'Y') {                alert_d.text ='Please Enter valid input for customer field and label!';                PNotify.error(alert_d);                 return false;            } else {                if (x < maxField) {                    //Input field wrapper                    var fieldHTML = '<div class="col-sm-4 form-group"><label><input type="text" id="custom_lablel' + count + '" name="custom_lablel[]" Placeholder="Textfield" class="disable_in form-control coustem_label" id="edit_label"></label><a href="javascript:void(0);" class="remove_button btn btn-info btn-xs pull-right" title="Remove"><i class="fa fa-minus"></i></a><input type="text" id="custom_field' + count + '" name="custom_field[]" value="" class="form-control coustem_field"/><span class="validation-color" id="err_txt_fld' + count + '"></span></div>';                    x++;                    //Increment field counter                    count++;                    $(wrapper).append(fieldHTML);                    //Add field html                }            }        });        //Once remove button is clicked        $(wrapper).on('click', '.remove_button', function(e) {            e.preventDefault();            $(this).parent('div').remove();            //Remove field html            x--;            //Decrement field counter        });        $(wrapper).on('dblclick', '#edit_label', function() {            //console.log("fdf");            $(this).removeClass('disable_in');        });        $("#gst_number").on("blur keyup", function(event) {            var gstin = $('#gst_number').val();            $("#gst_number").val(gstin.toUpperCase());            var gstin_length = gstin.length;            var gst_regex_format = "^([0][1-9]|[1-2][0-9]|[3][0-5])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$";            if (gstin_length > 0)            {                if (gstin == null || gstin == "") {                    $("#err_gstin").text("Please Enter GSTIN Number.");                    return false;                } else {                    $("#err_gstin").text("");                }                if (!gstin.match(sname_regex)) {                    $('#err_gstin').text("Please Enter Valid GSTIN Number.");                    return false;                } else {                    $("#err_gstin").text("");                }                if (gstin_length < 15 || gstin_length > 15)                {                    $("#err_gstin").text("GSTIN Number should have length 15");                    return false;                } else {                    $("#err_branch_gstin_number").text("");                }                if (!gstin.match(gst_regex_format)) {                    $('#err_gstin').text("Please Enter Valid GSTIN Number.");                    return false;                } else {                    $("#err_gstin").text("");                }            }        });    });$('#cmb_country').change(function() {    var id = $(this).val();    $('#cmb_state').empty();    $('#cmb_city').empty();    $.ajax({        url: base_url + 'general/get_state/',        method: "POST",        data: {            id: id        },        dataType: "JSON",        success: function(data) {            console.log(data);            var state = $('#cmb_state');            var opt = document.createElement('option');            opt.text = 'Select State';            opt.value = '';            state.append(opt);            var city = $('#cmb_city');            var opt1 = document.createElement('option');            opt1.text = 'Select City';            opt1.value = '';            city.append(opt1);            for (i = 0; i < data.length; i++) {                $('#cmb_state').append('<option value="' + data[i].state_id + '">' + data[i].state_name + '</option>');            }        }    });});$('#cmb_state').change(function() {    var id = $(this).val();    $('#cmb_city').empty();    $.ajax({        url: base_url + 'general/get_city/' + id,        dataType: "JSON",        success: function(data) {            console.log(data);            var city = $('#cmb_city');            var opt = document.createElement('option');            opt.text = 'Select City';            opt.value = '';            city.append(opt);            for (i = 0; i < data.length; i++) {                $('#cmb_city').append('<option value="' + data[i].city_id + '">' + data[i].city_name + '</option>');            }            var opt1 = document.createElement('option');            opt1.text = 'Others';            opt1.value = '0';            city.append(opt1);        }    });});var state_url = "<?php echo base_url('common/getState/') ?>";var city_url = "<?php echo base_url('common/getCity/') ?>";var state_code_url = "<?php echo base_url('common/getStateCode/') ?>";var customer_add_url = "<?php echo base_url('customer/add_customer_ajax ') ?>";var ledger_check_url = "<?php echo base_url('common/get_check_ledger/') ?>";var customer_add = 'yes';    $(document).ready(function() {        $('.cust_type .select2').select2({            minimumResultsForSearch: -1        });    });$("#customer_submit").click(function(event) {    // event.preventDefault();    var customer_code = $('#customer_code').val() ? $('#customer_code').val() : "";    var customer_name = $('#customer_name').val() ? $('#customer_name').val() : "";    var customer_type = $('#customer_type').val() ? $('#customer_type').val() : "";    var city = $('#cmb_city').val() ? $('#cmb_city').val() : "";    var state = $('#cmb_state').val() ? $('#cmb_state').val() : "";    var country = $('#cmb_country').val() ? $('#cmb_country').val() : "";    var address = $('#address').val() ? $('#address').val() : "";    var contact_person = $('#txt_contact_person').val() ? $('#txt_contact_person').val() : "";    var name_regex = /^[-a-zA-Z\s]+$/;    //var extra=$(document).find('input[name^=custom_field]');    var flag_label = 'N';    $(".coustem_label").each(function() {        var lbl = $(this).val();        if (lbl == '') {            flag_label = 'Y';        }    });    var flag_value = 'N';    $(".coustem_field").each(function() {        var val_cu = $(this).val();        if (val_cu == '') {            flag_value = 'Y';        }    });    if (customer_type == null || customer_type == "") {        $("#err_customer_type").text("Please Enter Customer Type.");        return false;    } else {        $("#err_customer_type").text("");    }    if (customer_name == null || customer_name == "") {        $("#err_customer_name").text("Please Enter Company/Individual.");        return false;    } else {        $("#err_customer_name").text("");    }    if (!customer_name.match(name_regex)) {        $('#err_customer_name').text("Please Enter Valid Customer Name ");        return false;    } else {        $("#err_customer_name").text("");    }    if (country == null || country == "") {        $("#err_country").text("Please Select Country ");        return false;    } else {        $("#err_country").text("");    }    if (state == null || state == "") {        $("#err_state").text("Please Select State ");        return false;    } else {        $("#err_state").text("");    }    if (city == null || city == "") {        $("#err_city").text("Please Select City ");        return false;    } else {        $("#err_city").text("");    }    if (address == null || address == "") {        $("#err_address").text("Please Enter Address.");        return false;    } else {        $("#err_address").text("");    }    if (!(address == null || address == "")) {        var i, temp = "";        var addr_trim = $.trim(address);        // console.log(addr_trim.length);        for (i = 0; i < addr_trim.length; i++) {            if (addr_trim[i] == addr_trim[i + 1]) {                temp += addr_trim[i];                if (temp.length == 4) {                    $("#err_address").text("Please Enter Valid Address.");                    return false;                }            }        }    }    /*if (contact_person == null || contact_person == "") {    	$("#err_contact_person").text("Please Enter Contact Person Name.");    	return false;    } else {    	$("#err_contact_person").text("");    }*/    if ((!contact_person.match(name_regex)) && (contact_person != '')) {        $('#err_contact_person').text("Please Enter Valid Person Name ");        return false;    } else {        $("#err_contact_person").text("");    }});